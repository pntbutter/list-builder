!function(){function t(t,i){return{loadData:loadData}}angular.module("boilerplate").factory("getDataFromAPI",t),t.$inject=["$http","LocalStorage"]}(),function(){function t(t,i,e){function n(){t.lists||(t.lists=[]),t.listsId||(t.listsId=1),t.unitId||(t.unitId=1),t.wargearId||(t.wargearId=1),stickybits(".sidebar")}function s(){t.lists.push({id:t.listsId,name:"",units:[]}),t.listsId++}function r(i){var e=t.lists;e.forEach(function(n,s){if(n.id==i)return t.lists[s].units.push({id:t.unitId,name:"",points:null,type:"",wargear:[]}),t.unitId++,delete e,!1})}function o(i,e){var n=t.lists;n.forEach(function(s,r){if(s.id==i){var o=r,l=t.lists[r].units;l.forEach(function(i,s){if(i.id==e)return t.lists[o].units[s].wargear.push({id:t.wargearId,name:"",points:0}),t.wargearId++,delete n,delete l,!1})}})}function l(i,e){var n=t.lists;n.forEach(function(s,r){if(s.id==i){var o=r,l=t.lists[r].units;l.forEach(function(i,s){if(i.id==e)return t.lists[o].units.splice(s,1),delete n,delete l,!1})}})}function a(i,e,n){var s=t.lists;s.forEach(function(r,o){if(r.id==i){var l=o,a=t.lists[o].units;a.forEach(function(i,r){if(i.id==e){var o=r,u=t.lists[l].units[r].wargear;u.forEach(function(i,e){if(i.id==n)return t.lists[l].units[o].wargear.splice(e,1),delete s,delete a,delete u,delete l,delete o,!1})}})}})}function u(i,e){var n=t.lists;n.forEach(function(s,r){if(s.id==i){var o=r,l=t.lists[r].units;l.forEach(function(i,s){if(i.id==e&&s>0){var r=t.lists[o].units[s-1];return t.lists[o].units[s-1]=i,t.lists[o].units[s]=r,delete n,delete l,delete r,delete o,!1}})}})}function c(i,e){var n=t.lists;n.forEach(function(s,r){if(s.id==i){var o=r,l=t.lists[r].units;l.forEach(function(i,s){if(i.id==e&&l.length-1>s){var r=t.lists[o].units[s+1];return t.lists[o].units[s]=r,t.lists[o].units[s+1]=i,delete n,delete l,delete r,delete o,!1}})}})}function d(i){var e=confirm("Are you sure you want to delete this list?");if(e){var n=t.lists;n.forEach(function(e,s){if(e.id==i)return t.lists.splice(s,1),delete n,!1})}}function f(i){var e=t.lists,n=0;return e.forEach(function(e,s){if(e.id==i){var r=s,o=t.lists[s].units;o.forEach(function(i,e){n+=i.points;var s=t.lists[r].units[e].wargear;s.forEach(function(t){n+=t.points})})}}),delete e,delete units,delete wargear,n}function v(i){E.copyModeActive=!0;var e=t.lists;e.forEach(function(t,e){if(t.id==i)return E.copyModeList=t,!1})}function h(){E.copyModeActive=!1,e(function(){E.copyModeList=null},250)}function p(i){var e=t.lists,n=t.listsId;t.listsId++,e.forEach(function(e,s){if(e.id==i){var r=angular.copy(e);return r.id=n,t.lists.push(r),!1}})}function g(t){i.scrollToElementAnimated(angular.element("#"+t),40)}var E=this;E.$storage=t,E.lists=t.lists,E.copyModeActive=!1,E.copyModeList=null,E.addList=s,E.addUnit=r,E.addWargear=o,E.removeUnit=l,E.removeWargear=a,E.removeList=d,E.moveUnitUp=u,E.moveUnitDown=c,E.listTotal=f,E.copyMode=v,E.exitCopyMode=h,E.duplicateList=p,E.scrollTo=g,n()}angular.module("boilerplate").controller("MainController",t),t.$inject=["$localStorage","$document","$timeout"]}();