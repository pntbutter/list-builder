<main class="lists">
    <div class="list" ng-repeat="list in main.$storage.lists track by $index">
        <header class="list-header" id="{{list.id}}">
            <input class="list-name" type="text" ng-model="list.name">
            <span class="list-total">{{main.listTotal(list.id)}}</span>
        </header>

        <ul class="units">
            <li class="unit" ng-repeat="unit in list.units">

                <input class="unit-type" type="text" ng-model="unit.type" ng-class="{'empty': unit.type.length < 0}" pu-elastic-input>
                <input class="unit-name" type="text" ng-model="unit.name" pu-elastic-input>
                <span class="delete delete-unit" ng-click="main.removeUnit(list.id, unit.id)">
                    <svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"/></svg>
                </span>
                <input class="points unit-points" type="number" min="0" ng-model="unit.points" pu-elastic-input>

                <ul class="wargear-items">
                    <li class="wargear-item" ng-repeat="item in unit.wargear">
                        <input class="wargear-name" type="text" ng-model="item.name" pu-elastic-input>
                        <span class="delete delete-wargear" ng-click="main.removeWargear(list.id, unit.id, item.id)">
                            <svg width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"/></svg>
                        </span>
                        <input class="points wargear-points" type="number" ng-model="item.points" pu-elastic-input>
                    </li>
                    <li>
                        <button class="btn-icon" ng-click="main.addWargear(list.id, unit.id)" tabindex="-1">
                            <svg width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"/></svg>
                        </button>
                    </li>
                </ul>
            </li>
        </ul>

        <footer class="list-footer">
            <button class="btn" ng-click="main.addUnit(list.id)">Add unit</button>
            <button class="btn btn-warning" ng-click="main.removeList(list.id)">Remove list</button>
        </footer>
    </div>
</main>

<aside class="sidebar">
    <ul class="list-nav">
        <li ng-repeat="list in main.$storage.lists track by $index"><a ng-click="main.scrollTo(list.id)">{{list.name}}</a></li>
    </ul>

    <button class="btn" ng-click="main.addList()">Add list</button>
</aside>